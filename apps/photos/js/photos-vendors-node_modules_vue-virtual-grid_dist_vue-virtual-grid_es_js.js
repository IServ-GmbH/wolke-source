/*! For license information please see photos-vendors-node_modules_vue-virtual-grid_dist_vue-virtual-grid_es_js.js.LICENSE.txt */
"use strict";(self.webpackChunkphotos=self.webpackChunkphotos||[]).push([["vendors-node_modules_vue-virtual-grid_dist_vue-virtual-grid_es_js"],{29837:(e,t,n)=>{n.d(t,{Z:()=>Y});var r=n(20144),o=n(25108);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,c,"next",e)}function c(e){a(i,r,o,u,c,"throw",e)}u(void 0)}))}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=Object.defineProperty,m=Object.defineProperties,v=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,O=function(e,t,n){return t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_=function(e,t){for(var n in t||(t={}))w.call(t,n)&&O(e,n,t[n]);if(g){var r,o=p(g(t));try{for(o.s();!(r=o.n()).done;){n=r.value;b.call(t,n)&&O(e,n,t[n])}}catch(e){o.e(e)}finally{o.f()}}return e},R=function(e,t){return m(e,v(t))};function S(e){return(S="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(e){return d(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":d(e)})(e)}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,o,e,n):Reflect.defineMetadata(r,o,e)}))}var k={__proto__:[]}instanceof Array;function E(e){return function(t,n,r){var o="function"==typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(t){return e(t,n,r)}))}}var P=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(P.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return function(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var o={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(o[e]=r[e])})),o}(this,e)}});var o=e.__decorators__;o&&(o.forEach((function(e){return e(t)})),delete e.__decorators__);var i,a,u=Object.getPrototypeOf(e.prototype),c=u instanceof r.ZP?u.constructor:r.ZP,l=c.extend(t);return function(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!C[r]){var o=Object.getOwnPropertyDescriptor(e,r);if(!o||o.configurable){var i,a,u=Object.getOwnPropertyDescriptor(t,r);if(!k){if("cid"===r)return;var c=Object.getOwnPropertyDescriptor(n,r);if(i=u.value,a=S(i),null!=i&&("object"===a||"function"===a)&&c&&c.value===u.value)return}Object.defineProperty(e,r,u)}}}))}(l,e,c),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(D(i=l,a=e),Object.getOwnPropertyNames(a.prototype).forEach((function(e){D(i.prototype,a.prototype,e)})),Object.getOwnPropertyNames(a).forEach((function(e){D(i,a,e)}))),l}var C={prototype:!0,arguments:!0,callee:!0,caller:!0};function x(e){return"function"==typeof e?M(e):function(t){return M(t,e)}}x.registerHooks=function(e){P.push.apply(P,j(e))},globalThis&&globalThis.__spreadArrays;var z="__reactiveInject__";var A="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function T(e){return void 0===e&&(e={}),function(t,n){!function(e,t,n){if(A&&!Array.isArray(e)&&"function"!=typeof e&&!e.hasOwnProperty("type")&&void 0===e.type){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}(e,t,n),E((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function N(e){return E((function(t,n){var r,o=t.provide;!function(e){Array.isArray(e.inject)||(e.inject=e.inject||{},e.inject[z]={from:z,default:{}})}(t),("function"!=typeof(r=o)||!r.managed&&!r.managedReactive)&&(o=t.provide=function(e){var t=function t(){var n=this,r="function"==typeof e?e.call(this):e;for(var o in(r=Object.create(r||null))[z]=Object.create(this[z]||{}),t.managed)r[t.managed[o]]=this[o];var i=function(e){r[t.managedReactive[e]]=a[e],Object.defineProperty(r[z],t.managedReactive[e],{enumerable:!0,configurable:!0,get:function(){return n[e]}})},a=this;for(var o in t.managedReactive)i(o);return r};return t.managed={},t.managedReactive={},t}(o)),o.managedReactive[n]=e||n}))}var G=function(e,t){return e>720&&t>480?10:5},L=function(e){return Math.floor(e/250)},W=function(e){return Math.round(1.5*e)},$=function(e,t,n){var r=e/t;return Math.round(n*r)},I=function(e){if(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=o).debug.apply(t,r)}},B=Object.defineProperty,H=Object.getOwnPropertyDescriptor,F=function(e,t,n,r){for(var o,i=r>1?void 0:r?H(t,n):t,a=e.length-1;a>=0;a--)(o=e[a])&&(i=(r?o(t,n,i):o(i))||i);return r&&i&&B(t,n,i),i},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,r,i,a=f(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.apply(this,arguments)).updateLock=!1,e.bottomReached=!1,e.ref=null,e.containerData={windowSize:{height:0,width:0},windowScroll:{x:0,y:0},elementWindowOffset:0,elementSize:{height:0,width:0}},e}return t=s,n=[{key:"loadingBatch",get:function(){return this.loader&&this.updateLock}},{key:"configData",get:function(){return this.computeConfigData(this.containerData,this.items)}},{key:"layoutData",get:function(){return this.computeLayoutData(this.configData)}},{key:"renderData",get:function(){return this.computeRenderData(this.configData,this.containerData,this.layoutData)}},{key:"mounted",value:function(){var e;this.ref=this.$refs.virtualGrid,this.initiliazeGrid(),window.addEventListener("resize",this.resize),(null!=(e=this.scrollElement)?e:window).addEventListener("scroll",this.scroll)}},{key:"beforeDestroy",value:function(){var e;window.removeEventListener("resize",this.resize),(null!=(e=this.scrollElement)?e:window).removeEventListener("scroll",this.scroll)}},{key:"onScrollElementChanged",value:function(e,t){(null!=t?t:window).removeEventListener("scroll",this.scroll),(null!=e?e:window).addEventListener("scroll",this.scroll)}},{key:"resize",value:function(){this.loadMoreData()}},{key:"scroll",value:function(){this.loadMoreData()}},{key:"initiliazeGrid",value:function(){var e=this;this.computeContainerData(),this.$nextTick(u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.loadMoreData();case 1:case"end":return t.stop()}}),t)}))))}},{key:"loadMoreData",value:function(){this.loadMoreDataAsync().catch((function(e){e&&o.error("Fail to load next data batch",e)})).then()}},{key:"loadMoreDataAsync",value:(i=u(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.computeContainerData(),t=this.containerData.windowScroll.y,n=t+this.containerData.windowSize.height,r=Math.max(0,this.containerData.elementWindowOffset+this.containerData.elementSize.height-this.updateTriggerMargin),this.bottomReached||!(n>=r)||this.updateLock){e.next=14;break}return this.updateLock=!0,I(this.debug,"Loading next batch"),e.next=9,this.updateFunction();case 9:return e.sent&&(I(this.debug,"Bottom reached"),this.bottomReached=!0),this.updateLock=!1,e.next=14,this.loadMoreDataAsync();case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"computeContainerData",value:function(){if(null!==this.ref){var e=this.getWindowSize(),t=this.getWindowScroll(),n=this.getElementOffset(this.ref),r=this.getElementSize(this.ref);this.containerData={windowSize:e,windowScroll:t,elementWindowOffset:n,elementSize:r}}}},{key:"computeConfigData",value:function(e,t){var n=this;if(null===e||null===t)return{windowMargin:0,gridGap:0,columnCount:1,entries:[]};var r=e.elementSize?e.elementSize.width:0,o=this.getWindowMargin(e.windowSize.height),i=this.getGridGap(r,e.windowSize.height),a=this.getColumnCount(r),u=this.getColumnWidth(a,i,r),c=t.map((function(e){if(!e.width)return e;var t=u*e.columnSpan+i*(e.columnSpan-1);return R(_({},e),{height:n.getItemRatioHeight(e.height,e.width,t),width:t})}));return{windowMargin:o,gridGap:i,columnCount:a,entries:c}}},{key:"computeLayoutData",value:function(e){if(null===e)return{cells:[],totalHeight:0};var t=1,n=0,r=0,o=0;return{cells:e.entries.map((function(i,a){var u=e.columnCount,c=e.gridGap,l=i.columnSpan,f=i.height;l<1&&(l=u);var s=(a+o)%u;i.newRow&&0!==s&&(o+=u-s);var d=a+o,p=d%u+1,h=Math.floor(d/u)+1;if(p+l>u+1){var y=p+l-u-1;f*=1-y/l,l-=y}l>1&&(o+=l-1),h!==t&&(t=h,n+=r+c,r=0);var m=n,v=Math.round(f);return r=Math.max(r,v),R(_({},i),{columnNumber:p,rowNumber:h,offset:m,height:v,columnSpan:l})})),totalHeight:n+r}}},{key:"computeRenderData",value:function(e,t,n){if(null===n||null===e)return{cellsToRender:[],firstRenderedRowNumber:0,firstRenderedRowOffset:0};var r=[],o=null,i=null;if(null!==t.elementWindowOffset){var a,u=t.elementWindowOffset,c=p(n.cells);try{for(c.s();!(a=c.n()).done;){var l=a.value,f=u+l.offset,s=f+l.height,d=t.windowScroll.y,h=d+t.windowSize.height,y=d-e.windowMargin;f>h+e.windowMargin||s<y||(null===o&&(o=l.rowNumber),l.rowNumber===o&&(i=i?Math.min(i,l.offset):l.offset),r.push(l))}}catch(e){c.e(e)}finally{c.f()}}return{cellsToRender:r,firstRenderedRowNumber:o,firstRenderedRowOffset:i}}},{key:"getColumnWidth",value:function(e,t,n){if(null===e||null===t||null===n)return 0;var r=(e-1)*t;return Math.round((n-r)/e)}},{key:"getGridRowStart",value:function(e,t){if(null!==t){var n=null!==t.firstRenderedRowNumber?t.firstRenderedRowNumber-1:0,r=e.rowNumber-n;return"".concat(r)}}},{key:"resetGrid",value:function(){this.bottomReached=!1,this.loadMoreData()}},{key:"isSameElementSize",value:function(e,t){return e.width===t.width&&e.height===t.height}},{key:"getWindowSize",value:function(){return{width:window.innerWidth,height:window.innerHeight}}},{key:"getElementSize",value:function(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}},{key:"isSameElementScroll",value:function(e,t){return e.x===t.x&&e.y===t.y}},{key:"getWindowScroll",value:function(){return{x:window.scrollX,y:window.scrollY}}},{key:"getElementOffset",value:function(e){return window.scrollY+e.getBoundingClientRect().top}}],n&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.ZP);function Z(e,t,n,r,o,i,a,u){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=c):o&&(c=u?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var f=l.render;l.render=function(e,t){return c.call(t),f(e,t)}}else{var s=l.beforeCreate;l.beforeCreate=s?[].concat(s,c):[c]}return{exports:e,options:l}}F([T({required:!0})],U.prototype,"items",2),F([T({default:function(){return function(){return!0}}})],U.prototype,"updateFunction",2),F([T({default:function(){return G}})],U.prototype,"getGridGap",2),F([T({default:function(){return L}})],U.prototype,"getColumnCount",2),F([T({default:function(){return W}})],U.prototype,"getWindowMargin",2),F([T({default:function(){return $}})],U.prototype,"getItemRatioHeight",2),F([T({default:null})],U.prototype,"scrollElement",2),F([T({default:500})],U.prototype,"updateTriggerMargin",2),F([T({default:null})],U.prototype,"loader",2),F([T({default:!1})],U.prototype,"debug",2),F([N()],U.prototype,"updateLock",2),F([N()],U.prototype,"bottomReached",2),F([N()],U.prototype,"ref",2),F([N()],U.prototype,"containerData",2),F([function(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,o=t.immediate,i=void 0!==o&&o;return E((function(t,n){"object"!==d(t.watch)&&(t.watch=Object.create(null));var o=t.watch;"object"!==d(o[e])||Array.isArray(o[e])?void 0===o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:n,deep:r,immediate:i})}))}("scrollElement")],U.prototype,"onScrollElementChanged",1),U=F([x({name:"VirtualGrid"})],U);var K={},V=Z(U,(function(){var e,t=this,n=t.$createElement,r=t._self._c||n;return r("div",{ref:"virtualGrid",style:{boxSizing:"border-box",height:t.layoutData.totalHeight+"px",paddingTop:null!==t.renderData&&null!==t.renderData.firstRenderedRowOffset?t.renderData.firstRenderedRowOffset+"px":"0px"}},[r("div",{staticClass:"grid",style:(e={display:"-ms-grid"},i(e,"display","grid"),i(e,"align-items","center"),i(e,"grid-template-columns","repeat("+t.configData.columnCount+", 1fr)"),i(e,"gap",t.configData.gridGap+"px"),e)},t._l(t.renderData.cellsToRender,(function(e){return r("div",{key:e.id,staticClass:"grid-item-wrapper",style:{height:e.height+"px","grid-column-start":e.columnNumber,"grid-column-end":e.columnNumber+e.columnSpan,"grid-row-start":t.getGridRowStart(e,t.renderData)}},[r(e.renderComponent,t._g({tag:"component",attrs:{item:e}},t.$listeners))],1)})),0),r(t.loadingBatch&&t.loader,{tag:"component"})],1)}),[],!1,X,null,null,null);function X(e){for(var t in K)this[t]=K[t]}var Y=function(){return V.exports}()}}]);
//# sourceMappingURL=photos-vendors-node_modules_vue-virtual-grid_dist_vue-virtual-grid_es_js.js.map?v=d987ad7474d78d836516