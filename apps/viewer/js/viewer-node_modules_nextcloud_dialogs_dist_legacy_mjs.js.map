{"version":3,"file":"viewer-node_modules_nextcloud_dialogs_dist_legacy_mjs.js?v=4e9be647d0a785258b7c","mappings":"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","sources":["webpack:///viewer/node_modules/@nextcloud/dialogs/dist/legacy.mjs"],"sourcesContent":["import { basename as k } from \"path\";\nimport { a as o, t as f, c as w } from \"./chunks/index-mlLU6Kk4.mjs\";\nimport \"toastify-js\";\nimport D from \"vue\";\nimport { D as F } from \"./chunks/DialogBase-aNq6aLpb.mjs\";\nimport T from \"@mdi/svg/svg/folder-multiple.svg?raw\";\nimport B from \"@mdi/svg/svg/folder-move.svg?raw\";\n/**\n * @copyright Copyright (c) 2023 Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @author Ferdinand Thiessen <opensource@fthiessen.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nconst M = (v, i, a = () => {\n}) => {\n  const u = document.createElement(\"div\");\n  (document.querySelector(i == null ? void 0 : i.container) || document.body).appendChild(u);\n  const r = new D({\n    el: u,\n    name: \"VueDialogHelper\",\n    render: (h) => h(v, {\n      props: i,\n      on: {\n        close: () => {\n          a(), r.$destroy();\n        }\n      }\n    })\n  });\n};\nasync function z(v, i, a = !1, u, C, r = o.Choose, h, m) {\n  const y = (e, c) => {\n    const n = (t) => {\n      const s = (t == null ? void 0 : t.root) || \"\";\n      let l = (t == null ? void 0 : t.path) || \"\";\n      return l.startsWith(s) && (l = l.slice(s.length) || \"/\"), l;\n    };\n    return a ? (t) => e(t.map(n), c) : (t) => e(n(t[0]), c);\n  }, P = (e) => {\n    var c, n, t, s, l, p;\n    return {\n      id: e.fileid || null,\n      path: e.path,\n      mimetype: e.mime || null,\n      mtime: ((c = e.mtime) == null ? void 0 : c.getTime()) || null,\n      permissions: e.permissions,\n      name: ((n = e.attributes) == null ? void 0 : n.displayname) || e.basename,\n      etag: ((t = e.attributes) == null ? void 0 : t.etag) || null,\n      hasPreview: ((s = e.attributes) == null ? void 0 : s.hasPreview) || null,\n      mountType: ((l = e.attributes) == null ? void 0 : l.mountType) || null,\n      quotaAvailableBytes: ((p = e.attributes) == null ? void 0 : p.quotaAvailableBytes) || null,\n      icon: null,\n      sharePermissions: null\n    };\n  };\n  let b;\n  r === o.Custom ? (b = [], (m.buttons || []).forEach((e) => {\n    b.push({\n      callback: y(i, e.type),\n      label: e.text,\n      type: e.defaultButton ? \"primary\" : \"secondary\"\n    });\n  })) : b = (e, c) => {\n    var n, t, s;\n    const l = [], p = ((t = (n = e == null ? void 0 : e[0]) == null ? void 0 : n.attributes) == null ? void 0 : t.displayName) || ((s = e == null ? void 0 : e[0]) == null ? void 0 : s.basename), d = p || k(c);\n    return r === o.Choose && l.push({\n      callback: y(i, o.Choose),\n      label: p && !a ? f(\"Choose {file}\", { file: p }) : f(\"Choose\"),\n      type: \"primary\"\n    }), (r === o.CopyMove || r === o.Copy) && l.push({\n      callback: y(i, o.Copy),\n      label: d ? f(\"Copy to {target}\", { target: d }) : f(\"Copy\"),\n      type: \"primary\",\n      icon: T\n    }), (r === o.Move || r === o.CopyMove) && l.push({\n      callback: y(i, o.Move),\n      label: d ? f(\"Move to {target}\", { target: d }) : f(\"Move\"),\n      type: r === o.Move ? \"primary\" : \"secondary\",\n      icon: B\n    }), l;\n  };\n  const g = {};\n  typeof (m == null ? void 0 : m.filter) == \"function\" && (g.filterFn = (e) => m.filter(P(e)));\n  const _ = typeof u == \"string\" ? [u] : u || [];\n  M(w, {\n    ...g,\n    name: v,\n    buttons: b,\n    multiselect: a,\n    path: h,\n    mimetypeFilter: _,\n    allowPickDirectory: (m == null ? void 0 : m.allowDirectoryChooser) === !0 || _.includes(\"httpd/unix-directory\")\n  });\n}\nasync function H(v, i, a, u) {\n  M(F, { name: i, message: v, buttons: [\n    {\n      label: \"No\",\n      // eslint-disable-next-line n/no-callback-literal\n      callback: () => a(!1)\n    },\n    {\n      label: \"Yes\",\n      type: \"primary\",\n      // eslint-disable-next-line n/no-callback-literal\n      callback: () => a(!0)\n    }\n  ], size: \"small\" }, () => a(!1));\n}\nexport {\n  H as confirm,\n  z as filepicker\n};\n"],"names":["M","v","i","a","arguments","length","undefined","u","document","createElement","querySelector","container","body","appendChild","r","D","el","name","render","h","props","on","close","$destroy","async","z","o","m","y","e","c","n","t","s","root","l","path","startsWith","slice","map","P","p","id","fileid","mimetype","mime","mtime","getTime","permissions","attributes","displayname","basename","etag","hasPreview","mountType","quotaAvailableBytes","icon","sharePermissions","b","buttons","forEach","push","callback","type","label","text","defaultButton","displayName","d","k","f","file","target","T","B","g","filter","filterFn","_","w","multiselect","mimetypeFilter","allowPickDirectory","allowDirectoryChooser","includes","H","F","message","size"],"sourceRoot":""}