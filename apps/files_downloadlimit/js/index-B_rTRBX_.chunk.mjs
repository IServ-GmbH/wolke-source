/*! third party licenses: js/vendor.LICENSE.txt */
import{a6 as xe,F as W,f as R,a as G,p as A,k as H,Q as he,v as be,y as le,b as we,_ as ye,w as ue,e as Ie,n as me,x as Re,t as _e,i as de,I as Ee,Y as Ae,a9 as $e,aa as ke,ab as Oe,r as Ue,ac as Se,ad as je}from"./function-apply-C8eA2A4z.chunk.mjs";var Te=/["'&<>]/,Ce=Fe;function Fe(e){var r=""+e,o=Te.exec(r);if(!o)return r;var n,a="",t=0,c=0;for(t=o.index;t<r.length;t++){switch(r.charCodeAt(t)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}c!==t&&(a+=r.substring(c,t)),c=t+1,a+=n}return c!==t?a+r.substring(c,t):a}const Me=xe(Ce);var f={},Pe=W,ze=function(){var e=Pe(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},J=R,Ke=G,L=Ke.RegExp,N=J(function(){var e=L("a","y");return e.lastIndex=2,e.exec("abcd")!==null}),Ye=N||J(function(){return!L("a","y").sticky}),Be=N||J(function(){var e=L("^r","gy");return e.lastIndex=2,e.exec("str")!==null}),De={BROKEN_CARET:Be,MISSED_STICKY:Ye,UNSUPPORTED_Y:N},qe=R,Qe=G,We=Qe.RegExp,Ge=qe(function(){var e=We(".","s");return!(e.dotAll&&e.test("\n")&&e.flags==="s")}),He=R,Je=G,Le=Je.RegExp,Ne=He(function(){var e=Le("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),y=A,$=H,Ve=le,Xe=ze,Ze=De,er=he,rr=we,nr=be.get,tr=Ge,or=Ne,ar=er("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,Y=_,ir=$("".charAt),sr=$("".indexOf),cr=$("".replace),C=$("".slice),B=function(){var e=/a/,r=/b*/g;return y(_,e,"a"),y(_,r,"a"),e.lastIndex!==0||r.lastIndex!==0}(),pe=Ze.BROKEN_CARET,D=/()??/.exec("")[1]!==void 0,lr=B||D||pe||tr||or;lr&&(Y=function(e){var r=this,o=nr(r),n=Ve(e),a=o.raw,t,c,u,s,i,l,g;if(a)return a.lastIndex=r.lastIndex,t=y(Y,a,n),r.lastIndex=a.lastIndex,t;var p=o.groups,d=pe&&r.sticky,v=y(Xe,r),h=r.source,x=0,b=n;if(d&&(v=cr(v,"y",""),sr(v,"g")===-1&&(v+="g"),b=C(n,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&ir(n,r.lastIndex-1)!=="\n")&&(h="(?: "+h+")",b=" "+b,x++),c=new RegExp("^(?:"+h+")",v)),D&&(c=new RegExp("^"+h+"$(?!\\s)",v)),B&&(u=r.lastIndex),s=y(_,d?c:r,b),d?s?(s.input=C(s.input,x),s[0]=C(s[0],x),s.index=r.lastIndex,r.lastIndex+=s[0].length):r.lastIndex=0:B&&s&&(r.lastIndex=r.global?s.index+s[0].length:u),D&&s&&s.length>1&&y(ar,s[0],c,function(){for(i=1;i<arguments.length-2;i++)arguments[i]===void 0&&(s[i]=void 0)}),s&&p)for(s.groups=l=rr(null),i=0;i<p.length;i++)g=p[i],l[g[0]]=s[g[1]];return s});var V=Y,ur=ye,ee=V;ur({target:"RegExp",proto:!0,forced:/./.exec!==ee},{exec:ee});var re=A,ne=Ie,dr=V,te=R,ge=ue,pr=me,gr=ge("species"),F=RegExp.prototype,fr=function(e,r,o,n){var a=ge(e),t=!te(function(){var i={};return i[a]=function(){return 7},""[e](i)!==7}),c=t&&!te(function(){var i=!1,l=/a/;return e==="split"&&(l={},l.constructor={},l.constructor[gr]=function(){return l},l.flags="",l[a]=/./[a]),l.exec=function(){return i=!0,null},l[a](""),!i});if(!t||!c||o){var u=/./[a],s=r(a,""[e],function(i,l,g,p,d){var v=l.exec;return v===dr||v===F.exec?t&&!d?{done:!0,value:re(u,l,g,p)}:{done:!0,value:re(i,g,l,p)}:{done:!1}});ne(String.prototype,e,s[0]),ne(F,a,s[1])}n&&pr(F[a],"sham",!0)},vr=Re.charAt,xr=function(e,r,o){return r+(o?vr(e,r).length:1)},X=H,hr=_e,br=Math.floor,M=X("".charAt),wr=X("".replace),P=X("".slice),yr=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Ir=/\$([$&'`]|\d{1,2})/g,mr=function(e,r,o,n,a,t){var c=o+e.length,u=n.length,s=Ir;return a!==void 0&&(a=hr(a),s=yr),wr(t,s,function(i,l){var g;switch(M(l,0)){case"$":return"$";case"&":return e;case"`":return P(r,0,o);case"'":return P(r,c);case"<":g=a[P(l,1,-1)];break;default:var p=+l;if(p===0)return i;if(p>u){var d=br(p/10);return d===0?i:d<=u?n[d-1]===void 0?M(l,1):n[d-1]+M(l,1):i}g=n[p-1]}return g===void 0?"":g})},oe=A,Rr=W,_r=de,Er=Ee,Ar=V,$r=TypeError,kr=function(e,r){var o=e.exec;if(_r(o)){var n=oe(o,e,r);return n!==null&&Rr(n),n}if(Er(e)==="RegExp")return oe(Ar,e,r);throw new $r("RegExp#exec called on incompatible receiver")},Or=Ae,ae=A,k=H,Ur=fr,Sr=R,jr=W,Tr=de,Cr=$e,Fr=ke,Mr=Oe,w=le,Pr=Ue,zr=xr,Kr=Se,Yr=mr,Br=kr,Dr=ue,q=Dr("replace"),qr=Math.max,Qr=Math.min,Wr=k([].concat),z=k([].push),ie=k("".indexOf),se=k("".slice),Gr=function(e){return e===void 0?e:String(e)},Hr=function(){return"a".replace(/./,"$0")==="$0"}(),ce=function(){return/./[q]?/./[q]("a","$0")==="":!1}(),Jr=!Sr(function(){var e=/./;return e.exec=function(){var r=[];return r.groups={a:"7"},r},"".replace(e,"$<a>")!=="7"});Ur("replace",function(e,r,o){var n=ce?"$":"$0";return[function(a,t){var c=Pr(this),u=Cr(a)?void 0:Kr(a,q);return u?ae(u,a,c,t):ae(r,w(c),a,t)},function(a,t){var c=jr(this),u=w(a);if(typeof t=="string"&&ie(t,n)===-1&&ie(t,"$<")===-1){var s=o(r,c,u,t);if(s.done)return s.value}var i=Tr(t);i||(t=w(t));var l=c.global,g;l&&(g=c.unicode,c.lastIndex=0);for(var p=[],d;d=Br(c,u),!(d===null||(z(p,d),!l));){var v=w(d[0]);v===""&&(c.lastIndex=zr(u,Mr(c.lastIndex),g))}for(var h="",x=0,b=0;b<p.length;b++){d=p[b];for(var O=w(d[0]),m=qr(Qr(Fr(d.index),u.length),0),U=[],S,j=1;j<d.length;j++)z(U,Gr(d[j]));var T=d.groups;if(i){var Z=Wr([O],U,m,u);T!==void 0&&z(Z,T),S=w(Or(t,void 0,Z))}else S=Yr(O,u,m,U,T,t);m>=x&&(h+=se(u,x,m)+S,x=m+O.length)}return h+se(u,x)}]},!Jr||!Hr||ce),Object.defineProperty(f,"__esModule",{value:!0}),f.generateUrl=f.generateRemoteUrl=f.generateOcsUrl=f.generateFilePath=void 0,f.getAppRootUrl=fe,f.getRootUrl=I,f.linkTo=f.imagePath=void 0;const Lr=(e,r)=>E(e,"",r);f.linkTo=Lr;const Nr=e=>I()+"/remote.php/"+e,Vr=e=>window.location.protocol+"//"+window.location.host+Nr(e);f.generateRemoteUrl=Vr;const Xr=(e,r,o)=>{const n=Object.assign({ocsVersion:2},o||{}).ocsVersion===1?1:2;return window.location.protocol+"//"+window.location.host+I()+"/ocs/v"+n+".php"+Q(e,r,o)};f.generateOcsUrl=Xr;const Q=(e,r,o)=>{const n=Object.assign({escape:!0},o||{}),a=function(t,c){return c=c||{},t.replace(/{([^{}]*)}/g,function(u,s){var i=c[s];return n.escape?encodeURIComponent(typeof i=="string"||typeof i=="number"?i.toString():u):typeof i=="string"||typeof i=="number"?i.toString():u})};return e.charAt(0)!=="/"&&(e="/"+e),a(e,r||{})},Zr=(e,r,o)=>{var n;const a=Object.assign({noRewrite:!1},o||{});return((n=window)===null||n===void 0||(n=n.OC)===null||n===void 0||(n=n.config)===null||n===void 0?void 0:n.modRewriteWorking)===!0&&!a.noRewrite?I()+Q(e,r,o):I()+"/index.php"+Q(e,r,o)};f.generateUrl=Zr;const en=(e,r)=>r.indexOf(".")===-1?E(e,"img",r+".svg"):E(e,"img",r);f.imagePath=en;const E=(e,r,o)=>{var n;const a=((n=window)===null||n===void 0||(n=n.OC)===null||n===void 0||(n=n.coreApps)===null||n===void 0?void 0:n.indexOf(e))!==-1;let t=I();return o.substring(o.length-3)==="php"&&!a?(t+="/index.php/apps/"+e,o!=="index.php"&&(t+="/",r&&(t+=encodeURI(r+"/")),t+=o)):o.substring(o.length-3)!=="php"&&!a?(t=fe(e),r&&(t+="/"+r+"/"),t.substring(t.length-1)!=="/"&&(t+="/"),t+=o):((e==="settings"||e==="core"||e==="search")&&r==="ajax"?t+="/index.php/":t+="/",a||(t+="apps/"),e!==""&&(e+="/",t+=e),r&&(t+=r+"/"),t+=o),t};f.generateFilePath=E;function I(){let e=window._oc_webroot;if(typeof e>"u"){e=location.pathname;const r=e.indexOf("/index.php/");r!==-1?e=e.substr(0,r):e=e.substr(0,e.lastIndexOf("/"))}return e}function fe(e){var r,o;return(o=((r=window._oc_appswebroots)!==null&&r!==void 0?r:{})[e])!==null&&o!==void 0?o:""}function ve(e){var r,o,n,a;return{translations:(o=(r=window._oc_l10n_registry_translations)===null||r===void 0?void 0:r[e])!==null&&o!==void 0?o:{},pluralFunction:(a=(n=window._oc_l10n_registry_plural_functions)===null||n===void 0?void 0:n[e])!==null&&a!==void 0?a:t=>t}}function K(e,r,o,n,a){const t=Object.assign({},{escape:!0,sanitize:!0},a||{}),c=g=>g,u=t.sanitize?je.sanitize:c,s=t.escape?Me:c,i=(g,p,d)=>g.replace(/%n/g,""+d).replace(/{([^{}]*)}/g,(v,h)=>{if(p===void 0||!(h in p))return u(v);const x=p[h];return u(typeof x=="string"||typeof x=="number"?s(x):v)});let l=ve(e).translations[r]||r;return l=Array.isArray(l)?l[0]:l,u(typeof o=="object"||n!==void 0?i(l,o,n):l)}function nn(e,r,o,n,a,t){const c="_"+r+"_::_"+o+"_",u=ve(e),s=u.translations[c];if(typeof s<"u"){const i=s;if(Array.isArray(i)){const l=u.pluralFunction(n);return K(e,i[l],a,n,t)}}return n===1?K(e,r,a,n,t):K(e,o,a,n,t)}export{nn as a,K as t};
